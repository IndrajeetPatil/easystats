---
output: 
  github_document:
    toc: false
    fig_width: 10.08
    fig_height: 6
tags: [r, reports]
vignette: >
  \usepackage[utf8]{inputenc}
  %\VignetteEngine{knitr::rmarkdown}
editor_options: 
  chunk_output_type: console
---

# easystats

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  fig.path = "man/figures/"
)
options(knitr.kable.NA = '',
        digits = 4,
        width=60)
```

```{r echo=FALSE, fig.show='hold', fig.align='left', out.width="14%", out.height="14%"}
# knitr::include_graphics(c("https://github.com/easystats/insight/raw/master/man/figures/logo.png",
#                           "https://github.com/easystats/bayestestR/raw/master/man/figures/logo.png",
#                           "https://github.com/easystats/parameters/raw/master/man/figures/logo.png",
#                           "https://github.com/easystats/performance/raw/master/man/figures/logo.png",
#                           "https://github.com/easystats/estimate/raw/master/man/figures/logo.png",
#                           "https://github.com/easystats/correlation/raw/master/man/figures/logo.png",
#                           "https://github.com/easystats/report/raw/master/man/figures/logo.png"))
# 

# library(png)
# library(grid)
# library(gridExtra)
# library(RCurl)
# 
# insight <-  rasterGrob(as.raster(readPNG(getURLContent("https://github.com/easystats/insight/raw/master/man/figures/logo.png"))), interpolate = FALSE)
# bayestestR <-  rasterGrob(as.raster(readPNG(getURLContent("https://github.com/easystats/bayestestR/raw/master/man/figures/logo.png"))), interpolate = FALSE)
# grid.arrange(insight, bayestestR, ncol = 1)
```

<img src='https://github.com/easystats/insight/raw/master/man/figures/logo.png' align="left" height="120" />
<img src='https://github.com/easystats/bayestestR/raw/master/man/figures/logo.png' align="left" height="120" />
<img src='https://github.com/easystats/parameters/raw/master/man/figures/logo.png' align="left" height="120" />
<img src='https://github.com/easystats/performance/raw/master/man/figures/logo.png' align="left" height="120" />
<img src='https://github.com/easystats/estimate/raw/master/man/figures/logo.png' align="left" height="120" />
<img src='https://github.com/easystats/correlation/raw/master/man/figures/logo.png' align="left" height="120" />
<img src='https://github.com/easystats/report/raw/master/man/figures/logo.png' align="left" height="120" />

<!-- THE UGLY OUTPUT IS ANNOYING -->


The aim of **easystats** is to provide a unifying and consistent framework to tame, discipline and harness the scary R statistics and their pesky models.


# Installation

The wole `easystats` suite can be installed *at once* with the following:

```r
install.packages("devtools")
devtools::install_github("easystats/easystats")
```

```r
library("easystats")
```

# Downloads 


```{r message=FALSE, warning=FALSE, include=TRUE, results="hide", echo=FALSE}
library(tidyverse)
library(zoo)
library(cranlogs)

# Packages data
downloads_insight <- cranlogs::cran_downloads(package = "insight", from = "2019-03-01") %>% 
  mutate(Package = "insight")


# Combine all data
data <- rbind(downloads_insight) %>% 
  mutate(cumulative_count = cumsum(count),
         average_count = zoo::rollmax(count, 10, fill=0)+10,
         day_num = as.numeric(date) - min(as.numeric(date)),
         day = weekdays(date),
         month = months(date),
         quarters = quarters(date),
         month_day = lubridate::mday(date))


events <- data.frame()
# Publications
events <- rbind(events,
               data.frame(date = as.Date("2019-03-05"), 
                          event="CRAN - insight (0.1.0)", 
                          color="#673AB7", stringsAsFactors = FALSE))
# Blogposts
events <- rbind(events)

# Full join
data <- full_join(data, events, by="date")
```


```{r, message=FALSE, warning=FALSE, eval = TRUE, fig.align='center', echo=FALSE}
data %>% 
  ggplot(aes(x=date, color=package)) +
  geom_hline(yintercept=0) +
  geom_line(aes(y=count), size=1) +
  # geom_line(aes(y=count_Median), size=1, colour="blue") +
  geom_vline(data=events, aes(xintercept = date), colour=events$color, size=1) +
  geom_label(aes(label = event, x = date, y = average_count), fill = events$color, colour = "white", fontface="bold") +
  theme_classic() +
  scale_x_date(date_breaks = "1 month", 
               # limits = as.Date(c('2011-01-01','2013-01-01')),
               labels=scales::date_format("%Y-%m")) +
  scale_color_manual(values=c("insight" = "#9C27B0")) +
  xlab("") +
  ylab("Daily CRAN Downloads\n")
```


# List of functions



```{r echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
# it would be cool to add the title / description for all functions
library(insight)
library(bayestestR)
library(parameters)
library(performance)
library(correlation)
library(estimate)
library(report)

all_funs <- data.frame()

for(package in c("insight", "bayestestR", "parameters", "performance", "correlation", "estimate", "report")){
  
  name <- lsf.str(paste0("package:", package))
  name <- unlist(strsplit(name, " "))
  
  functions <- paste0("[**`", 
                      name, 
                      "`**](https://easystats.github.io/", 
                      package, 
                      "/reference/index.html)",
                      " *(",
                      package,
                      ")*")
  
  functions <- data.frame("Functions" = functions,
                          "Package" = package,
                          "Name" = name)
  

  all_funs <- rbind(all_funs, functions)
}



all_funs <- all_funs[!duplicated(all_funs$Name),]
all_funs <- sort(as.character(all_funs$Functions))
cat(paste0(c("", all_funs), collapse = "\n- "))
```

